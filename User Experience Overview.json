{"version":13,"variables":[{"key":"AppName","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\nexport default async function () {\n const lastXDays = 30;\n const usqlQuery = 'SELECT DISTINCT application FROM useraction where matchingconversiongoals is not null';\n const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n const sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n        flat = flat.concat(arr[i]);\n    }\n    return flat;\n}\n return( flatten(response.values))\n}","multiple":true},{"key":"MilestoneGoal","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const lastXDays = 30;\n   const usqlQuery = 'SELECT DISTINCT matchingconversiongoals FROM useraction WHERE matchingconversiongoals IS NOT NULL';\n const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n\nconst sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n        flat = flat.concat(arr[i]);\n    }\n    return flat;\n}\n return( flatten(response.values))\n\n}","multiple":true},{"key":"ConversionGoal","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const lastXDays = 30;\n   const usqlQuery = 'SELECT DISTINCT matchingconversiongoals FROM useraction WHERE matchingconversiongoals IS NOT NULL';\n const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n\nconst sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n        flat = flat.concat(arr[i]);\n    }\n    return flat;\n}\n return( flatten(response.values))\n\n}","multiple":true},{"key":"TimeShift","type":"csv","input":"1,7,14,21","multiple":false}],"tiles":{"5":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"8":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"18":{"type":"code","title":"Conversion Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  var milestoneList = \"\\\"\"+$MilestoneGoal[0]+\"\\\"\";\n  let m = 1;\n  // Build Milestone Goal List\n  while (m < 10) {\n    if ($MilestoneGoal[m]==null) break;\n    milestoneList = milestoneList+\",\\\"\"+$MilestoneGoal[m]+\"\\\"\";\n    m++;\n  }\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT count(*), CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and useraction.matchingConversionGoals in ('+milestoneList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n    if (result[\"values\"][0][1]/result[\"values\"][0][0]<.4) \n    return \"🔴\";\n  else if (result[\"values\"][0][1]/result[\"values\"][0][0]<.6) \n    return \"🟡\";\n  else\n    return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center","recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"23":{"type":"code","title":"Apdex","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE apdexCategory=\"SATISFIED\"), CONDITION (count(*),WHERE apdexCategory=\"TOLERATING\"), CONDITION (count(*),WHERE apdexCategory=\"FRUSTRATED\") FROM useraction WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  if (((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]))*100<80)\n    return \"🔴\";\n  if (((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]))*100<92)\n    return \"🟡\";\n  return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center","recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"27":{"type":"code","title":"Efficiency Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  export default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+')), CONDITION (count(*),WHERE usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});    \n  if (result[\"values\"][0][1]/result[\"values\"][0][0]<.5) \n    return \"🔴\";\n  else if (result[\"values\"][0][1]/result[\"values\"][0][0]<.75) \n    return \"🟡\";\n  else\n    return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center","recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"29":{"type":"code","title":"Deficiency Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  export default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE not useraction.matchingconversiongoals in ('+conversionList+')), CONDITION (count(*),WHERE usersession.userexperiencescore!=\"SATISFIED\" and not useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});    \n    if (result[\"values\"][0][1]/result[\"values\"][0][0]>.5) \n    return \"🔴\";\n  else if (result[\"values\"][0][1]/result[\"values\"][0][0]>.25) \n    return \"🟡\";\n  else\n    return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center","recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"32":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"36":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"43":{"type":"code","title":"Requests","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM useraction WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100).toFixed(2);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+str1+\"% ↗️🟢)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+str1*(-1)+\"% ↘️🔴)\";\n  else\n   return result[\"values\"][0][0]+\" (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"44":{"type":"code","title":"Bounces","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+') and bounce is true';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100).toFixed(2);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+str1+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+str1*(-1)+\"% ↘️🟢)\";\n  else\n   return result[\"values\"][0][0]+\" (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"45":{"type":"code","title":"Conversion Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  var milestoneList = \"\\\"\"+$MilestoneGoal[0]+\"\\\"\";\n  let m = 1;\n  // Build Milestone Goal List\n  while (m < 10) {\n    if ($MilestoneGoal[m]==null) break;\n    milestoneList = milestoneList+\",\\\"\"+$MilestoneGoal[m]+\"\\\"\";\n    m++;\n  }\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+'), CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+') and useraction.matchingConversionGoals in ('+milestoneList+') and usersession.usertype=\"REAL_USER\"';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][2]/result[\"values\"][0][0]*100)-(result[\"values\"][0][3]/result[\"values\"][0][1]*100)).toFixed(2);\n  if ((result[\"values\"][0][2]/result[\"values\"][0][0]*100)>(result[\"values\"][0][3]/result[\"values\"][0][1]*100)) \n   return (result[\"values\"][0][2]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% ↗️🟢)\"\n  else if ((result[\"values\"][0][2]/result[\"values\"][0][0]*100)<(result[\"values\"][0][3]/result[\"values\"][0][1]*100))\n   return (result[\"values\"][0][2]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1*(-1)+\"% ↘️🔴)\";\n  else\n   return (result[\"values\"][0][2]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"54":{"type":"code","title":"Customer Satisfaction","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\nexport default async function () {\n  const lastXDays = 30;                                         // Big bucket\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  // Calculate Chart Interval\n  const timeDiff = (endTime-startTime)/3600/1000/24;\n  var chartInterval = \"5m\"\n  if (timeDiff>.5)\n    var chartInterval = \"10m\"\n  if (timeDiff>1)\n    var chartInterval = \"1h\"\n  const query = 'SELECT DATETIME(endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") AS \"Date\", CONDITION(count(*), where userExperienceScore=\"SATISFIED\")  AS \"Satisfied\", CONDITION(count(*), where userExperienceScore=\"TOLERATED\")  AS \"Tolerated\", CONDITION(count(*), where userExperienceScore=\"FRUSTRATED\")  AS \"Frustrated\" from usersession WHERE useraction.application in ('+appsList+') and  usersession.starttime>='+startTime+' and usersession.endtime<='+endTime+' GROUP BY  DATETIME(endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") limit 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  const sampleCount = response.values.length;\n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n      return {\n        Date: response.values[index][0],\n        'Satisfied': (response.values[index][1]),\n        'Tolerated': response.values[index][2],\n        'Frustrated': response.values[index][3]\n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         Date: { type: 'timestamp' },\n          'Satisfied': { type: 'double' },\n          'Tolerated': { type: 'double' },\n          'Frustrated': { type: 'double' }\n        },\n      },\n    ],\n  };\n}","visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"hideLabels":false,"thresholdType":"absolute"},"colorPalette":"apdex","legend":{"hidden":true},"seriesOverrides":[{"seriesId":"Frustrated","override":{"color":"#F8312F"}},{"seriesId":"Tolerated","override":{"color":"#FCD53F"}},{"seriesId":"Satisfied","override":{"color":"#00D26A"}}],"fieldMapping":{"timestamp":"Date","leftAxisValues":["Satisfied","Tolerated","Frustrated"],"leftAxisDimensions":[],"fields":[],"values":[],"rightAxisValues":[]}},"singleValue":{"showLabel":false,"label":"","autoscale":true,"recordField":"Date"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[{"valueAxis":"Satisfied","rangeAxis":""},{"valueAxis":"Tolerated","rangeAxis":""},{"valueAxis":"Frustrated","rangeAxis":""}]},"honeycomb":{"shape":"square"}}},"56":{"type":"code","title":"Avg Time on Site","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (avg(duration),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (avg(duration),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100).toFixed(2);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s (\"+str1+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s (\"+str1*(-1)+\"% ↘️🟢)\";\n  else\n   return dur+\"s (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"61":{"type":"code","title":"New Sessions","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession where useraction.application in ('+appsList+') and newuser is true';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+(str1)+\" ↗️🟢)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+(str1)*(-1)+\" ↘️🔴)\";\n  else\n   return result[\"values\"][0][0]+\" (\"+(str1)+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"71":{"type":"code","title":"Sessions","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession where useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+(str1)+\" ↗️🟢)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+(str1)*(-1)+\" ↘️🔴)\";\n  else\n   return result[\"values\"][0][0]+\" (\"+(str1)+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"74":{"type":"code","title":"Avg Duration","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT avg(duration) FROM useraction WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  if (result[\"values\"][0][0]>6000) \n    return \"🔴\";\n  else if (result[\"values\"][0][0]>3000) \n    return \"🟡\";\n  else\n    return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center","recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"75":{"type":"code","title":"Avg Errors","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT avg(totalerrorcount) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  if (result[\"values\"][0][0]>2) \n    return \"🔴\";\n  else if (result[\"values\"][0][0]>0) \n    return \"🟡\";\n  else\n    return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center","recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"76":{"type":"markdown","title":"","content":"[**Help**](https://github.com/TechShady/Dynatrace-Dashboards-Gen3/blob/main/ReadMeExecutiveOverview.md#user-guide)"},"77":{"type":"code","title":"Apdex","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE apdexCategory=\"SATISFIED\" and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE apdexCategory=\"TOLERATING\" and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE apdexCategory=\"FRUSTRATED\" and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE apdexCategory=\"SATISFIED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+'), CONDITION (count(*),WHERE apdexCategory=\"TOLERATING\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+'), CONDITION (count(*),WHERE apdexCategory=\"FRUSTRATED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM useraction WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) - (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5])).toFixed(2);\n  if ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) > (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5])) \n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1+\" ↗️🟢)\";\n  else if ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) < (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5]))\n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1*(-1)+\" ↘️🔴)\";\n  else\n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"78":{"type":"code","title":"Avg Duration","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (avg(duration),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (avg(duration),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM useraction WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)*(-1)+\"s ↘️🟢)\";\n  else\n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"79":{"type":"code","title":"Avg Errors","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (avg(totalerrorcount),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (avg(totalerrorcount),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var err = (result[\"values\"][0][0]).toFixed(2);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return err+\" (\"+(str1).toFixed(2)+\" ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return err+\" (\"+(str1).toFixed(2)*(-1)+\" ↘️🟢)\";\n  else\n   return err+\" (\"+(str1).toFixed(2)+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"80":{"type":"code","title":"Application Health","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  var healthCount=0;\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  var milestoneList = \"\\\"\"+$MilestoneGoal[0]+\"\\\"\";\n  let m = 1;\n  // Build Milestone Goal List\n  while (m < 10) {\n    if ($MilestoneGoal[m]==null) break;\n    milestoneList = milestoneList+\",\\\"\"+$MilestoneGoal[m]+\"\\\"\";\n    m++;\n  }\n// Start Duration\n  const queryD = 'SELECT avg(duration) FROM useraction WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultD = await rumUserSessionsClient.getUsqlResultAsTable({query: queryD, startTimestamp: startTime, endTimestamp: endTime});\n  if (resultD[\"values\"][0][0]>6000) \n    healthCount=healthCount+3;\n  else if (resultD[\"values\"][0][0]>3000) \n    healthCount=healthCount+1;\n// End Duration\n// Start Errors\n  const queryE = 'SELECT avg(totalerrorcount) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultE = await rumUserSessionsClient.getUsqlResultAsTable({query: queryE, startTimestamp: startTime, endTimestamp: endTime});\n  if (resultE[\"values\"][0][0]>2) \n    healthCount=healthCount+3;\n  else if (resultE[\"values\"][0][0]>0) \n    healthCount=healthCount+1;\n// End Errors\n// Start Efficiency\n  const queryEF = 'SELECT CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+')), CONDITION (count(*),WHERE usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultEF = await rumUserSessionsClient.getUsqlResultAsTable({query: queryEF, startTimestamp: startTime, endTimestamp: endTime});    \n  if (resultEF[\"values\"][0][1]/resultEF[\"values\"][0][0]<.5) \n    healthCount=healthCount+3;\n  else if (resultEF[\"values\"][0][1]/resultEF[\"values\"][0][0]<.75) \n    healthCount=healthCount+1;\n// End Efficiency\n// Start Deficiency\n  const queryDF = 'SELECT CONDITION (count(*),WHERE not useraction.matchingconversiongoals in ('+conversionList+')), CONDITION (count(*),WHERE usersession.userexperiencescore!=\"SATISFIED\" and not useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultDF = await rumUserSessionsClient.getUsqlResultAsTable({query: queryDF, startTimestamp: startTime, endTimestamp: endTime});    \n    if (resultDF[\"values\"][0][1]/resultDF[\"values\"][0][0]>.5) \n    healthCount=healthCount+3;\n  else if (resultDF[\"values\"][0][1]/resultDF[\"values\"][0][0]>.25) \n    healthCount=healthCount+1;\n// End Deficiency\n// Conversion \n  const queryC = 'SELECT count(*), CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and useraction.matchingConversionGoals in ('+milestoneList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultC = await rumUserSessionsClient.getUsqlResultAsTable({query: queryC, startTimestamp: startTime, endTimestamp: endTime});\n    if (resultC[\"values\"][0][1]/resultC[\"values\"][0][0]<.4) \n    healthCount=healthCount+3;\n  else if (resultC[\"values\"][0][1]/resultC[\"values\"][0][0]<.6) \n    healthCount=healthCount+1;\n// End Conversion\n// Start Apdex\n  const queryA = 'SELECT CONDITION (count(*),WHERE apdexCategory=\"SATISFIED\"), CONDITION (count(*),WHERE apdexCategory=\"TOLERATING\"), CONDITION (count(*),WHERE apdexCategory=\"FRUSTRATED\") FROM useraction WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultA = await rumUserSessionsClient.getUsqlResultAsTable({query: queryA, startTimestamp: startTime, endTimestamp: endTime});\n  if (((resultA[\"values\"][0][0] + (resultA[\"values\"][0][1]/2))/(resultA[\"values\"][0][0] + resultA[\"values\"][0][1] + resultA[\"values\"][0][2]))*100<80)\n    healthCount=healthCount+3;\n  if (((resultA[\"values\"][0][0] + (resultA[\"values\"][0][1]/2))/(resultA[\"values\"][0][0] + resultA[\"values\"][0][1] + resultA[\"values\"][0][2]))*100<92)\n    healthCount=healthCount+1;\n// End Apdex\n  if (healthCount>2)\n    return \"🔴\";\n  if (healthCount>0)\n    return \"🟡\";\n  return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center","recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"81":{"type":"code","title":"Efficiency Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  export default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startShiftTime+' and endtime<='+endShiftTime+'), CONDITION (count(*),WHERE usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][1]/result[\"values\"][0][0])*100-(result[\"values\"][0][3]/result[\"values\"][0][2])*100).toFixed(2);\n  if ((result[\"values\"][0][1]/result[\"values\"][0][0])>(result[\"values\"][0][3]/result[\"values\"][0][2])) \n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% ↗️🟢)\";\n  else if ((result[\"values\"][0][1]/result[\"values\"][0][0])<(result[\"values\"][0][3]/result[\"values\"][0][2]))\n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1*(-1)+\"% ↘️🔴)\";\n  else\n  return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"82":{"type":"code","title":"Deficiency Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE not useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE usersession.userexperiencescore!=\"SATISFIED\" and not useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE not useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startShiftTime+' and endtime<='+endShiftTime+'), CONDITION (count(*),WHERE usersession.userexperiencescore!=\"SATISFIED\" and not useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][1]/result[\"values\"][0][0])*100-(result[\"values\"][0][3]/result[\"values\"][0][2])*100).toFixed(2);\n  if ((result[\"values\"][0][1]/result[\"values\"][0][0])>(result[\"values\"][0][3]/result[\"values\"][0][2])) \n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][1]/result[\"values\"][0][0])<(result[\"values\"][0][3]/result[\"values\"][0][2]))\n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1*(-1)+\"% ↘️🟢)\";\n  else\n  return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"83":{"type":"code","title":"Avg Clicks To Convert","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  var milestoneList = \"\\\"\"+$MilestoneGoal[0]+\"\\\"\";\n  let m = 1;\n  // Build Milestone Goal List\n  while (m < 10) {\n    if ($MilestoneGoal[m]==null) break;\n    milestoneList = milestoneList+\",\\\"\"+$MilestoneGoal[m]+\"\\\"\";\n    m++;\n  }\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (avg(userActionCount),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (avg(userActionCount),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+') and useraction.matchingConversionGoals in ('+milestoneList+') and useraction.matchingConversionGoals in ('+conversionList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  if (result[\"values\"][0][0]>result[\"values\"][0][1])\n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(result[\"values\"][0][1].toFixed(2))+\" ↗️🔴)\";\n  else if (result[\"values\"][0][0]<result[\"values\"][0][1])\n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(result[\"values\"][0][1].toFixed(2))+\" ↘️🟢)\";\n  else\n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(result[\"values\"][0][1].toFixed(2))+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false,"recordField":"element"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]},"histogram":{"dataMappings":[]},"honeycomb":{"shape":"square"}}},"84":{"type":"markdown","title":"","content":"# \n# 🔎 User Experience Overview"}},"layouts":{"5":{"x":0,"y":3,"w":24,"h":1},"8":{"x":0,"y":0,"w":24,"h":1},"18":{"x":20,"y":1,"w":2,"h":2},"23":{"x":22,"y":1,"w":2,"h":2},"27":{"x":16,"y":1,"w":2,"h":2},"29":{"x":18,"y":1,"w":2,"h":2},"32":{"x":0,"y":8,"w":24,"h":1},"36":{"x":0,"y":16,"w":22,"h":1},"43":{"x":8,"y":4,"w":4,"h":2},"44":{"x":8,"y":6,"w":4,"h":2},"45":{"x":16,"y":4,"w":4,"h":2},"54":{"x":0,"y":9,"w":24,"h":7},"56":{"x":20,"y":6,"w":4,"h":2},"61":{"x":0,"y":6,"w":4,"h":2},"71":{"x":0,"y":4,"w":4,"h":2},"74":{"x":12,"y":1,"w":2,"h":2},"75":{"x":14,"y":1,"w":2,"h":2},"76":{"x":22,"y":16,"w":2,"h":1},"77":{"x":20,"y":4,"w":4,"h":2},"78":{"x":4,"y":4,"w":4,"h":2},"79":{"x":4,"y":6,"w":4,"h":2},"80":{"x":10,"y":1,"w":2,"h":2},"81":{"x":12,"y":4,"w":4,"h":2},"82":{"x":12,"y":6,"w":4,"h":2},"83":{"x":16,"y":6,"w":4,"h":2},"84":{"x":0,"y":1,"w":9,"h":2}}}