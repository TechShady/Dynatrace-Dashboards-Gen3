{"version":11,"variables":[{"key":"AppName","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\nexport default async function () {\n const lastXDays = 30;\n const usqlQuery = 'SELECT DISTINCT application FROM useraction where matchingconversiongoals is not null';\n const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n const sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n        flat = flat.concat(arr[i]);\n    }\n    return flat;\n}\n return( flatten(response.values))\n}","multiple":true},{"key":"MilestoneGoal","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const lastXDays = 30;\n   const usqlQuery = 'SELECT DISTINCT matchingconversiongoals FROM useraction WHERE matchingconversiongoals IS NOT NULL';\n const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n\nconst sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n        flat = flat.concat(arr[i]);\n    }\n    return flat;\n}\n return( flatten(response.values))\n\n}","multiple":true},{"key":"ConversionGoal","type":"code","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\n\n\nexport default async function () {\n  const lastXDays = 30;\n   const usqlQuery = 'SELECT DISTINCT matchingconversiongoals FROM useraction WHERE matchingconversiongoals IS NOT NULL';\n const response = await rumUserSessionsClient.getUsqlResultAsTable({query: usqlQuery, startTimestamp: Date.now() - lastXDays * 24 * 60 * 60 * 1000});\n\nconst sampleCount = response.values.length;\n function flatten(arr) {\n    var flat = [];\n    for (var i = 0; i < sampleCount; i++) {\n        flat = flat.concat(arr[i]);\n    }\n    return flat;\n}\n return( flatten(response.values))\n\n}","multiple":true},{"key":"TimeShift","type":"csv","input":"1,7,14,21","multiple":false}],"tiles":{"5":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"8":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"9":{"type":"markdown","title":"","content":"![](data:image/webp;base64,UklGRroZAABXRUJQVlA4WAoAAAAgAAAAHwMAQwAASUNDUMgBAAAAAAHIAAAAAAQwAABtbnRyUkdCIFhZWiAH4AABAAEAAAAAAABhY3NwAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAQAA9tYAAQAAAADTLQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAlkZXNjAAAA8AAAACRyWFlaAAABFAAAABRnWFlaAAABKAAAABRiWFlaAAABPAAAABR3dHB0AAABUAAAABRyVFJDAAABZAAAAChnVFJDAAABZAAAAChiVFJDAAABZAAAAChjcHJ0AAABjAAAADxtbHVjAAAAAAAAAAEAAAAMZW5VUwAAAAgAAAAcAHMAUgBHAEJYWVogAAAAAAAAb6IAADj1AAADkFhZWiAAAAAAAABimQAAt4UAABjaWFlaIAAAAAAAACSgAAAPhAAAts9YWVogAAAAAAAA9tYAAQAAAADTLXBhcmEAAAAAAAQAAAACZmYAAPKnAAANWQAAE9AAAApbAAAAAAAAAABtbHVjAAAAAAAAAAEAAAAMZW5VUwAAACAAAAAcAEcAbwBvAGcAbABlACAASQBuAGMALgAgADIAMAAxADZWUDggzBcAADByAJ0BKiADRAA+bTCVRaQjIha7DXRABsS2N26vUQ3vx38A7LS5/Xf6p+1P9o93Kuf2L+0/rT+4e3vwM6Z/3voJeWfqX/V/vXtN/uX+s/n/9T+B352/6392+AL9af2F9dj1H/uj6gP22/cL3fP9L+2vuk/on/C9g3+5f7n/////tNvQO8uf94vhy/sP/V/eH2fv///8u3/6Ofq72b+ONiDAx+/0UrACeJl/6e+byNLrlxj6rsL74iVwjH9i8EEOGIxVPZA7KuLmkZC+r9ttcL3HyL9na2whfQKMNzJcIx+a6HEhrd5o4LRHp//WOXwrbIVksSYwRTkXiYJbXqPH3ktvCKhBExEoG9RJgXMG9pSNfDaw1oPm9SRiif1yrexwKr/7o2TZ4Q1Y8TRH3rJzcQR89cP+ohmU83mcgxmi2EdzWj/xdymEZpCsIdhm4F9CiXfeEow7LReANxCfJDAahWeSYhrOnUKEbU7heplCS62ekHdLF2r1H+2A7R4v/Y5n4278YTYTk+uLYoG/kCPjszWcq+AMo4xJQcJV7lRaotWshcC60FX5fKnDvNHRg+XX7m4tfhWGBSnRweobWohjSD5R6IdJLvZ/fphaMBSldo/XKBlEeTTAQYwjeByzvQLSZmBZFUgvuDts+9MXJjq2rtW1MEhovK2m4xbCvVnJbHqG7wYMQvjPySgT0TWWmvLInjU6qsqVuU4SiVG97daUEelfyFwlowwsFQwX7mQy2RZujub/PR/+STMopX0QwVYdAWrR6HUMUGRUvFN/T8JIVecAuFscKQcsjrPWCGz06JZZG+VNdMexrY2WqL6mMZ/L/dMWaxqNY1HLCj9f8RhEwHltyqcsFmKTD1h+DQaH+ob21bRJejkgjVRXHQB8h94OW4o5K/pm8PdW/3FmTInHhE9T5UFKzd/fTQwndB38MVqk2ecES7zXYmFqIt27YcG8fDoHA4ojwNx73givVFJ3D1K6KH85B6svnNQXK9aniJuqwC5Nt1dUc+cevJj2oOHlA25NODP8V+Y5VSjhXAUH3LFInpQ5VtzJNFO+FjylbDbBO5917+HIkEnuR3kTwpR1O+wuI85WELror+ZebNR4JEjY0dgHBIQoeeF/AuFQi2NEGIUcYicYfgp1IcnEN/tJCfUUmLcrTLXG53zhuxOwPOmzc1mThU1dkK5ft5C/k3qlECCWj60ziVimFcv1rS/j0fYM42LzWyFcmAAA/vk/vzEL0VqxZQkhlzKNIoGrds8utu8EO4BtsoSWNSeNYYym35W5LbrnKkm/coTbgqygWHs0id1R4NOmn6Tb+fR9cjiPs5mxDi1bfOBY2Y9GOtmn3NBWJ11ncmxHr+s8+NUlAwR79tAoO3HLmaj7gNqD9jrMX6FecBS+pl0HA4aMDmISiwLNH+vvVGO0E4w2cBFuBQHc15tTZdYQqPtFPY7qCUZgFsW1bTANoJ+GQqXWJrikgos5wivwHYi/e63i7NAcmZnpBIKhIPgPpe/6EIO2NQXvC32Ntq6BGukLvV+3g+9St8Wh+6kdzcnPmCWGV9mS3+hrHRtQv+JT8SuAxTGVnv4SAcFbdsLgEPaJru0aY+bY+LtYEGF4YDj/G8EX5G7QuuLpAt1RyuvL4IGFABsP1maHPsiJfED/lKyUOZd8I5SvbK89DRO2zg50lHZkLJ1AEfATaA2VKinvmQUq6VSl3jImYlrtOnkCrRKffXTwjiSgQBrepQXUahWiR3XRTGD136LTsMdTs67j8VJU3CUQaeoVweuxEr4dmyzRIJtxSNf1HQvEpN7khESlzVSHuoJOI2DOH6lecNXMJwYVrPgz3Aoh4P8yBYgtdU4muTzhC52E+vBtYQUSAZoF5U0JL1EFjMBo6Oca5tW+xcY49QO2XpS/UAYl7AEffXcIoQTlcj+L1bJsURaB4ipAzj7NOVSnP7H2QWyh9B7Xk7QDo8nAWjgyvy/gtTSlUr73cS9spbkJATPMSKTkL04tcfmMQmyl6LPlWKMq2uQjqQPu8AkvzoDf53lx/CeG+Xkk3isNJ4DzC5QxQyHgGVhG8uIs7UzjyH0Mw5ea1LTDKAFi0UgJ+T6Yu84I8dxnqAIBR3grKThL8Jjfgf8NW8UaSF8l4eIyEoEeKPOR1AXZXtgf8l0HlVD3WpCr/0B4Z6VWQalvJ/tXsOTlhHiGRRxvhWbfY4QEorw1YUKlSBx6SClILSUDmIQff+fjbwI2bzGgwYgWtFQC/TrLRQa0iO61wSyyrwagoP30YRkZY01dzFRRsi7puwrMEKCLOzpXsJHbTHrYUyv0Bt8ZJ33lDCKu07r9zaS6DXnnFtVSw6VIgPcgTfViZnMPP8vecjs3aVDLv8AcAivflO4fsPy/U2Q+w2kBvRQ3OfS6jAmvmiGg0QUhyEos4B1rnf2YfwVIGPXIlsnRRwhWTSnEZIFO3OMBazL2z0k6yMpgU9on9Gq/bd3FRhGmWgodhzB76gvEo9vAWmk4Xt4UD2Q5I/P3t8PrdXhHdrYIlhEh/Pmn5352kTxD+RrOY7JlGLgYZvL70eo2ufQczvX01WwdKrDTTVQ5qig8Wkwajnbtu52TyQZ3BYOkemF1pjRalb+w8rONggonHam5aIuKLi9fuqm12XDl52lepg5rEBAt3u/LuHyein0wtGHuL1sjfyhH7wpX8tme+M1Ys4HYzomWiM/MXLyWCO0PDGVbG+4iztTORhnE85xRMIoa0JHYDaJARH1kjIYIffpfpjMb2gatjkg0Z8/qUwHBgVCSQRtyWaBiZiVtK7wnQhdm+S97775/v6NmQnWnRdyk7H/FlQEVwtz0WTF1QgTZS2qSdTruxwO1TMYaPo7EvWPOlOfOG7ljKV1qo48RsPm7qlczkgW2YAyhd/NcENDBnjXI7Tx66Kz9tAzHvdJtF9z6y5io79j6qT3FxamDAmOhV1uAjOryP1YdZ85yz/rEJz2rUJ7KBzCXHpSTFGxq60gwb5kCRC3rimeeXMA5xxNyGAp6hHam42gnuLey1PMnPxemnubX9BCgYbIJRWT31sz/p1g5ncaAFu0JESK4/Gytso8KX66i64zWjzZQqyo22VcF4b7cFPMn7ckeAWyOOmsQjpL9xPKauOzBMyTLC5PCC8b+tdAEZ8vr8B11gA0+LYDM8+KyWaP2UVED9BDfAtzpi+S1ceTMGJINJtk4rP0mqs2jN8NoO8/8WHybnx55K9aVGmHk2+UKrG0z7pDCrATsMfJcutiVwgFPTO6A0eYoEV21nQPsuECEt2jTzHHmp9Wg9/Y3/gzjr3RtD2Q4oogg7i30Y69laZrZ1rkXGaV27zYFRZjlx8uGUSgJTnmXV/M3jiqnYgoBfVXfl4HTUL1NwL9eCHKeT+cOydlkzSXjqjqNv6IWt/BSFOUHBwwP8W8NJxZx5PrdUPtJyIYyFIjsXhCpT7WeisRJNe69YFxdwdlPNQIgZffULNpMJimz1tdWF6F4J1lVMbrJiLfIo4puexmBIXChAXFRyf0g6crwVdZHRfSG2xF3cZgYnMfjdOvL8CvUhdSFUipVF/cQmrB6RiCBIbzgtLN5WPWMwMt59HH6FHwY2tIQ6uOcs3NTGAt7Zy7oy21LB+5UGk7Ool2XAwbx5EIyWa+8U9D+FwDWfAUIJv8JcBjxp3qV5mIngVk1h3YnjUO+KsyQt87Oxb41fl/2jyFjii8zg7Np8kDxyTBev+uIO51wKjtQEG1S6iUB4Eqd6Q1tMBZilY/WX7DDO/A/FaKZ6ZkXNc/hr7b74EAsoWID+udlgYPg8PkhPZVzwrDdoSKTNslzE+unjBJPSjnc1cPbwN6sxSgPLgd/BdsoCgOgmrWvh66S+gfz7btNPy+4UN++KRIs7zNpVXysV80cFr/MH6e44akf+qGhmNnfS/RSTWAAnQFsXD234Hsu5SfxgD6PWHY6JInL5NVWjhtnh6C8nKbaw0teK2OkydTqp5IxJC0xqXtxlwLYmE5ji2+WpLaKLVKJYv1qvlei1hY64eNpJhnknr5v2yNeuDz77BtgZIiaZzVaS6yHWCi1o1QM1us0lqMdkOBlg0Xikvx2kuYCWnAluGBcrQm5JubKUUs+CNCkICBIV45njNauUtyRnt2BuBxJuBh7qKhsMtMXP9clq+L7NyD57pswMz8lBHbrAfbuD52Xm4HHvbRgs/fv1A7NUsox4ZOeolmELVmR2QjDU2hhXtQb/XLsbWPQNNd47fSPgAQxEbgkwTsf85vetR50HxaEyXlFFw8uRuS5Hxu1c4FtEz9VkTx6XUQSRWWkIpLUGCEeQYXVtbLi5phaOn/AY/ybQ4kDBxyzkucoPqhX27M8+RJcbUEBUQfHy1DyyI22NInJgbX6S6qXLyWCNEhSXVdEUMC+msxSUahIU4kkGVoPeqIHAMroXm2m+dBmABeUfRA04ScXXiLuOufsPvCCX0YX6ngzxmbugS0jBMa724khkvLa2Md+2JZFNSBNFblKvG1efJNXW8y0ihKRemKMFuljgccpoUE4ShzwLWHWMNBDfdPHcYZ/RZuGXJJFFbsfyjZfHBwU/YuMGeTrjXs6ebMRtnPt7lWfBr271/YTpXU8EiHGM0DRD0YBASL0t8JSx2FsaIO548yAp/ToyuoKOx84CZXzZkvHv6w1JsaTWljF0oaEIRGKyqLcDQravmx1K5Ve5hfCqpBH2ZMt8n+YokT9a+e/ePi2SNuo1RIJobm44kJ0/t3Ocv9qPu27WswyPPtta65ARoVu4k6l6TQxP5woTKc8o4KekxuOS+4zLrDcdDtuKGMAZ78GqKQwlxUvJX57nEopOSWZwj95CLJzh2uWd1QhV7sL5y9PNREQQOZ4ionlFaOgPXfmU4nzBeuG3wG1gq/rT1s8p7q/ms7acS1hjH8S9Ad0eU24v6qschAxsxE50BDd3iDvs32XYWgDDpIFLtMWu5MhtXrI6z0UFJ8WBEi9tveQTxgRrZEwGXCsE8waDAyjOfiPVBDaUExqCtOmPRfBbT4AglsrhvZAvkN/LbQYD+J4gYoJ0ub2EkSKYIzmWX1v/IOni0dyJipOFhoEjRdDA0kREluf1+AkApHGmJ8MNRToDP8EdTk4nqfQsoqQD5D9/2VbHRZLtYGaTWPl8gyTL/S9eyVNQCgGBxdGditxLyQqfAY3Lt2s9rJuvqx/vp4WEJ/T6Wq39HEkbxZf0c/SmgjLCBi5xFMAvHPW1S+xNpL95+l5Nl274kyTGDa/QgE/LJdz2BI7BOJIyO2XT04V4CS9JIIMUWHg5tD1kCzi2tjf/ERNy37QTelOT4D1UJ717SbQlXLsf81eJkjRU5nnzwwIrXCEycU4doVtX1MUOZxfiEYkXsCLk35Tflo35BTDSRAz5UQa+a1Pt4r06WUB6vBZXuRN7JCvhBOGZtnVhqm+ivgwLbyjuCn45Zx2gVBs3LMS3CZi9nNlNcpBKMU+8oNWMYTzHPQD0Crg5kdQkgepFdlAHM5dmzyAZSBxZDJMEWuxCMU4YtI0wSg5o+AmYl2jZXTYkQ988O33t7G2V5XM2sKOhR6VlBEToTPQk/JnMPkBHc4odcD3E4gcE61ZT0kefFvJjWg8EY1+bC4FR20woepqmjqF4Ob7iQCU+PCqahf/hWG1h8YuwHrox2GRIYzMPGEOQqINoIkm+4MCwD5x9R5Vay2FXFJrbgvFbxTloqy1tj9OjdoL0pPV9NK+AF9JN/Tlr+V2jfPL91G3BqmWfoaVLt/L7re0ouhMRyGYQkIQMBTDVoBdcLI8CpUuM1nk4RS9KFlUgdcqyb3dhVn1WIjFR8vmQunOhTpi89hTytPDPo22g81tsy+4ubNcxeGVXh/ghn71CYkFA3sO1JUiHHak/XbClaqaMRIvzNUDTYfb+AW9IjaTqBzUKFiuYBXoQInUXbPsBpQ/FMMOZpifNH7eXIpK1q7S3IL0F5pLyWjOm/f2ktHZb4cUQ36PhE+ivjvg8TTvG1qlpYRgWZugWBdDUmF9QYHF1bCfzIS9WLsiVDdgwtZzcOnAjl3MqlQ+p9kPXfEWxMTkTSZHkABJrlfNtKLK3F7atBvQzv2UxuSXA2mjEq7EI3jKtJd+67RbZVdgQ+RI7CSnsRprKm2r4EJQl+l4/Pre8Bga8RsJyQEdoo5QRospZH8Hh70XzdKYRBSt4sm6cgLy1CKC33F9D1q9uKHX5UzUfVyEDY2ciwYVdCKMKR7ohPd6JV7oIFK/DRJh7GQuynHE293EQRgCCWyuG9dITfu3jL7gFVN1zi9iHvgMmUL31a0VFKJ1rtzNfy8u7OTa4dWRFHmRF98ljQwKbDj134Dpaz208+bGRHsdWmCEd55OnBpBSGeEAm9wBJWk7e3cdHZBrbPL808PTvQaLYRlnjQoPG9iz7ml1QFy4In5SBdQ5f+aL3i9/aFMHo8iOdCMO/3eqL8OanLbEy3QyqqpBGfzHVNJEmOZh7vRK0oduDxQZTx57x5PejHQ9UQORO3EHFjaeK8X6W2VMzeynYz3BxDj1lcafhnGMCo8EBhvGkqJZKzVPeEVE/iWdI4/er9DdPDP1Hx5Pwf2pNbhvm9CUC8+fyShLvMUwHWcj1S+f2axqWf5wl0iycvylryeMfLONCzuRyF+vAB8DpU3ByRNZeo6wQlagT13jW0n7odCh3x3y1q9SBqSZH/MpN+ctJMh/CMoWP2aYL2K65/wdnjX9v23Ivj9pqmEvep3uJ1bvRYA0C1VxBttvqrzVVZCHs4BHpjTCrORCt881gid/fSxLCWcxdvK+SWFkbYJ3sdyL6q7UNphyoKSuRYEBnBazrHKUjsL9RkJCXIqBAy09PnJcnvL3C3XnjDedVxrPYbjdwlgGYIpfTFRjfWfJRq6DMoDPLb9mKVBg6Fu3/lxdqE21PemaR4xJZtKVVtpdqD68+YlMdZWa+UBIGuZlntAdYetKp6CBTjwsfDvKrjLvIvsMRg/0CO4s30jG+GNi2bHoDIMkQ5/bjWkCUmCM2r6FCEjdL/lPhwY+zkFmJLLCKUS3hToodDMexMCziSH5CWBJR4XzNl/E0F9mXUvlwelJEe8shIRGkd1xt8Aaeo13DTd0rPNBOh3snQkYCQ+mfmcuhaK1K/3VKChFKnB0NDuzIBSic6GxnjVsblXabdFb0rAELuvXJ48TznUmV08VxTJisTtekWGzo2Oxg7D7iw2S5oop6ZFqye4xPETRpkz/2QzNd3gsJgobcAYVz0C3y10/HUAE1rBS+Vw3a91lZ1++aCF827YqRUY5myJhFfyxU9YnXI8kzcwKRnas74KR41SvvnchjjVj1ruHM1ucYeLwf4y/zyTgbQgbc4JVRwG3l2OViR32GKdiuoOdOPq9woYFY4ibVObjIfz6DpDdxEq1Ur//23YESZxEuD18QivR/1RaZv2hsoF6sExWyJSmmYGPBeqmCX2aK8muHZrpRGwmyrBEJsSG512K+DSKGSXB3WSknTrFHzzfZsPRnHYQYbYDdA/+sLzC66LeqNiiuj8CRfxw1mu+tEtm3daHt5CftPt1k6qDGMpkLeO7Y8ffCgPj5Nwf98nkXt9////z/afvPtfiqzp5bFE7D+pTmC8y+jtEyrqV3PVQJNOz5ig2Ekip8F3ScxWRHcjhpe6VJ+QsjQHocpE1BFjorX90J7s9jt3d5hWdHTsi2knrhnV//KwIrxuuxe8suzzoqr+F8dx6xzGU5VJi8Xttu6shUzOsx3md8XLJ/xn2oSk9RUi4JcmGyBwOHaLqsBMAwhMI/1Apxay+GZcrgkcQZzqT7SI8TQaV50u2RLqM4+Xa0VcxymE6O0ORze1VmAiGwx63vfIe9jWkOZPDoOE/2v7yneplvczyYL3SMWv7hT2aG37bmNBKCf/UrMm6r6us0hmmYDdZk4RKaueA/pdBgFueT7k7TN+KlXVx64bnzRsCBULoXORCG7vtrCZHpo8gugS5WytWKVufoOjT06Fb2E3Dimx1HxZCCuFvK+pbaISXV22SBle7FxpmYjPGw7q7Bmw9WdonMs1+VY4S+YYqJ7rgxoT0gE9l3WgOB4MsgUPY/JrOZ6OvhE3yycibzfh1+OfS4gj+AAAAAAAAAAAAAAAD9gAAAO6AAAAAAAAAAAA)"},"18":{"type":"code","title":"Conversion Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  var milestoneList = \"\\\"\"+$MilestoneGoal[0]+\"\\\"\";\n  let m = 1;\n  // Build Milestone Goal List\n  while (m < 10) {\n    if ($MilestoneGoal[m]==null) break;\n    milestoneList = milestoneList+\",\\\"\"+$MilestoneGoal[m]+\"\\\"\";\n    m++;\n  }\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT count(*), CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and useraction.matchingConversionGoals in ('+milestoneList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n    if (result[\"values\"][0][1]/result[\"values\"][0][0]<.4) \n    return \"🔴\";\n  else if (result[\"values\"][0][1]/result[\"values\"][0][0]<.6) \n    return \"🟡\";\n  else\n    return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"23":{"type":"code","title":"Apdex","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE userexperiencescore=\"SATISFIED\"), CONDITION (count(*),WHERE userexperiencescore=\"TOLERATED\"), CONDITION (count(*),WHERE userexperiencescore=\"FRUSTRATED\") FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  if (((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]))*100<80)\n    return \"🔴\";\n  if (((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]))*100<92)\n    return \"🟡\";\n  return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"27":{"type":"code","title":"Efficiency Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  export default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+')), CONDITION (count(*),WHERE usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});    \n  if (result[\"values\"][0][1]/result[\"values\"][0][0]<.5) \n    return \"🔴\";\n  else if (result[\"values\"][0][1]/result[\"values\"][0][0]<.75) \n    return \"🟡\";\n  else\n    return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"29":{"type":"code","title":"Deficiency Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  export default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE not useraction.matchingconversiongoals in ('+conversionList+')), CONDITION (count(*),WHERE usersession.userexperiencescore!=\"SATISFIED\" and not useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});    \n    if (result[\"values\"][0][1]/result[\"values\"][0][0]>.5) \n    return \"🔴\";\n  else if (result[\"values\"][0][1]/result[\"values\"][0][0]>.25) \n    return \"🟡\";\n  else\n    return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"32":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"36":{"title":"","type":"markdown","content":"![](data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAABy8AAAAMCAYAAADbJPG3AAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAAJcEhZcwAAEnQAABJ0Ad5mH3gAAACdSURBVHhe7dtBFcAgDETBUBtFA6KrDhf0gofsYeay8fBfRn37FAAAAAAAAECz5y4AAAAAAABAK/ESAAAAAAAAiCBeAgAAAAAAABHESwAAAAAAACCCeAkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEGG8c517AwAAAAAAALTxeQkAAAAAAABEEC8BAAAAAACACOIlAAAAAAAAEKDqB2IIBAQ2TEouAAAAAElFTkSuQmCC)"},"43":{"type":"code","title":"Requests","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM useraction WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100).toFixed(2);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+str1+\"% ↗️🟢)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+str1*(-1)+\"% ↘️🔴)\";\n  else\n   return result[\"values\"][0][0]+\" (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"44":{"type":"code","title":"Bounces","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+') and bounce is true';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100).toFixed(2);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+str1+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+str1*(-1)+\"% ↘️🟢)\";\n  else\n   return result[\"values\"][0][0]+\" (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"45":{"type":"code","title":"Conversion Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  var milestoneList = \"\\\"\"+$MilestoneGoal[0]+\"\\\"\";\n  let m = 1;\n  // Build Milestone Goal List\n  while (m < 10) {\n    if ($MilestoneGoal[m]==null) break;\n    milestoneList = milestoneList+\",\\\"\"+$MilestoneGoal[m]+\"\\\"\";\n    m++;\n  }\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+'), CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+') and useraction.matchingConversionGoals in ('+milestoneList+') and usersession.usertype=\"REAL_USER\"';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][2]/result[\"values\"][0][0]*100)-(result[\"values\"][0][3]/result[\"values\"][0][1]*100)).toFixed(2);\n  if ((result[\"values\"][0][2]/result[\"values\"][0][0]*100)>(result[\"values\"][0][3]/result[\"values\"][0][1]*100)) \n   return (result[\"values\"][0][2]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% ↗️🟢)\"\n  else if ((result[\"values\"][0][2]/result[\"values\"][0][0]*100)<(result[\"values\"][0][3]/result[\"values\"][0][1]*100))\n   return (result[\"values\"][0][2]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1*(-1)+\"% ↘️🔴)\";\n  else\n   return (result[\"values\"][0][2]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"54":{"type":"code","title":"Customer Satisfaction","input":"import { rumUserSessionsClient } from \"@dynatrace-sdk/client-classic-environment-v1\";\nexport default async function () {\n  const lastXDays = 30;                                         // Big bucket\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  // Calculate Chart Interval\n  const timeDiff = (endTime-startTime)/3600/1000/24;\n  var chartInterval = \"5m\"\n  if (timeDiff>.5)\n    var chartInterval = \"10m\"\n  if (timeDiff>1)\n    var chartInterval = \"1h\"\n  const query = 'SELECT DATETIME(endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") AS \"Date\", CONDITION(count(*), where userExperienceScore=\"SATISFIED\")  AS \"Satisfied\", CONDITION(count(*), where userExperienceScore=\"TOLERATED\")  AS \"Tolerated\", CONDITION(count(*), where userExperienceScore=\"FRUSTRATED\")  AS \"Frustrated\" from usersession WHERE useraction.application in ('+appsList+') and  usersession.starttime>='+startTime+' and usersession.endtime<='+endTime+' GROUP BY  DATETIME(endTime,  \"MM-dd HH:mm:ss\",\"'+chartInterval+'\") limit 5000';\n  const response = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  const sampleCount = response.values.length;\n  return {\n    records: new Array(sampleCount).fill(null).map((_, index, array) => {\n      return {\n        Date: response.values[index][0],\n        'Satisfied': (response.values[index][1]),\n        'Tolerated': response.values[index][2],\n        'Frustrated': response.values[index][3]\n      };\n    }),\n    types: [\n      {\n        indexRange: [0, sampleCount],\n        mappings: {\n         Date: { type: 'timestamp' },\n          'Satisfied': { type: 'double' },\n          'Tolerated': { type: 'double' },\n          'Frustrated': { type: 'double' }\n        },\n      },\n    ],\n  };\n}","visualization":"areaChart","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect","circleChartSettings":{"hideLabels":false,"thresholdType":"absolute"},"colorPalette":"apdex","legend":{"hidden":true},"seriesOverrides":[{"seriesId":"Frustrated","override":{"color":"#F8312F"}},{"seriesId":"Tolerated","override":{"color":"#FCD53F"}},{"seriesId":"Satisfied","override":{"color":"#00D26A"}}]},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"56":{"type":"code","title":"Avg Time on Site","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (avg(duration),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (avg(duration),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][0]-result[\"values\"][0][1])/((result[\"values\"][0][0]+result[\"values\"][0][1])/2)*100).toFixed(2);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s (\"+str1+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s (\"+str1*(-1)+\"% ↘️🟢)\";\n  else\n   return dur+\"s (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"61":{"type":"code","title":"New Sessions","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession where useraction.application in ('+appsList+') and newuser is true';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+(str1)+\" ↗️🟢)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+(str1)*(-1)+\" ↘️🔴)\";\n  else\n   return result[\"values\"][0][0]+\" (\"+(str1)+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"71":{"type":"code","title":"Sessions","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession where useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+(str1)+\" ↗️🟢)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return result[\"values\"][0][0]+\" (\"+(str1)*(-1)+\" ↘️🔴)\";\n  else\n   return result[\"values\"][0][0]+\" (\"+(str1)+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"74":{"type":"code","title":"Avg Duration","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT avg(duration) FROM useraction WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  if (result[\"values\"][0][0]>6000) \n    return \"🔴\";\n  else if (result[\"values\"][0][0]>3000) \n    return \"🟡\";\n  else\n    return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"75":{"type":"code","title":"Avg Errors","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT avg(totalerrorcount) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startTime, endTimestamp: endTime});\n  if (result[\"values\"][0][0]>2) \n    return \"🔴\";\n  else if (result[\"values\"][0][0]>1) \n    return \"🟡\";\n  else\n    return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"76":{"type":"markdown","title":"","content":"[**Help**](https://github.com/dynatrace-perfclinics/community-tips-tricks/blob/main/ep19/ReadMeExecutiveOverview.md#user-guide)"},"77":{"type":"code","title":"Apdex","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE userexperiencescore=\"SATISFIED\" and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE userexperiencescore=\"TOLERATED\" and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE userexperiencescore=\"FRUSTRATED\" and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE userexperiencescore=\"SATISFIED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+'), CONDITION (count(*),WHERE userexperiencescore=\"TOLERATED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+'), CONDITION (count(*),WHERE userexperiencescore=\"FRUSTRATED\" and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) - (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5])).toFixed(2);\n  if ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) > (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5])) \n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1+\" ↗️🟢)\";\n  else if ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2]) < (result[\"values\"][0][3] + (result[\"values\"][0][4]/2))/(result[\"values\"][0][3] + result[\"values\"][0][4] + result[\"values\"][0][5]))\n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1*(-1)+\" ↘️🔴)\";\n  else\n   return ((result[\"values\"][0][0] + (result[\"values\"][0][1]/2))/(result[\"values\"][0][0] + result[\"values\"][0][1] + result[\"values\"][0][2])).toFixed(2)+\" (\"+str1+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"78":{"type":"code","title":"Avg Duration","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (avg(duration),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (avg(duration),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM useraction WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var dur = (result[\"values\"][0][0]/1000).toFixed(2);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return dur+\"s  (\"+(str1/1000).toFixed(2)*(-1)+\"s ↘️🟢)\";\n  else\n   return dur+\"s  (\"+(str1/1000).toFixed(2)+\"s =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"79":{"type":"code","title":"Avg Errors","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (avg(totalerrorcount),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (avg(totalerrorcount),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = (result[\"values\"][0][0]-result[\"values\"][0][1]);\n  var err = (result[\"values\"][0][0]).toFixed(2);\n  if ((result[\"values\"][0][0])>(result[\"values\"][0][1])) \n   return err+\" (\"+(str1).toFixed(2)+\" ↗️🔴)\";\n  else if ((result[\"values\"][0][0])<(result[\"values\"][0][1])) \n   return err+\" (\"+(str1).toFixed(2)*(-1)+\" ↘️🟢)\";\n  else\n   return err+\" (\"+(str1).toFixed(2)+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"80":{"type":"code","title":"Application Health","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  var healthCount=0;\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  var milestoneList = \"\\\"\"+$MilestoneGoal[0]+\"\\\"\";\n  let m = 1;\n  // Build Milestone Goal List\n  while (m < 10) {\n    if ($MilestoneGoal[m]==null) break;\n    milestoneList = milestoneList+\",\\\"\"+$MilestoneGoal[m]+\"\\\"\";\n    m++;\n  }\n// Start Duration\n  const queryD = 'SELECT avg(duration) FROM useraction WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultD = await rumUserSessionsClient.getUsqlResultAsTable({query: queryD, startTimestamp: startTime, endTimestamp: endTime});\n  if (resultD[\"values\"][0][0]>6000) \n    healthCount=healthCount+2;\n  else if (resultD[\"values\"][0][0]>3000) \n    healthCount=healthCount+1;\n// End Duration\n// Start Errors\n  const queryE = 'SELECT avg(totalerrorcount) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultE = await rumUserSessionsClient.getUsqlResultAsTable({query: queryE, startTimestamp: startTime, endTimestamp: endTime});\n  if (resultE[\"values\"][0][0]>2) \n    healthCount=healthCount+2;\n  else if (resultE[\"values\"][0][0]>1) \n    healthCount=healthCount+1;\n// End Errors\n// Start Efficiency\n  const queryEF = 'SELECT CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+')), CONDITION (count(*),WHERE usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultEF = await rumUserSessionsClient.getUsqlResultAsTable({query: queryEF, startTimestamp: startTime, endTimestamp: endTime});    \n  if (resultEF[\"values\"][0][1]/resultEF[\"values\"][0][0]<.5) \n    healthCount=healthCount+2;\n  else if (resultEF[\"values\"][0][1]/resultEF[\"values\"][0][0]<.75) \n    healthCount=healthCount+1;\n// End Efficiency\n// Start Deficiency\n  const queryDF = 'SELECT CONDITION (count(*),WHERE not useraction.matchingconversiongoals in ('+conversionList+')), CONDITION (count(*),WHERE usersession.userexperiencescore!=\"SATISFIED\" and not useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultDF = await rumUserSessionsClient.getUsqlResultAsTable({query: queryDF, startTimestamp: startTime, endTimestamp: endTime});    \n    if (resultDF[\"values\"][0][1]/resultDF[\"values\"][0][0]>.5) \n    healthCount=healthCount+2;\n  else if (resultDF[\"values\"][0][1]/resultDF[\"values\"][0][0]>.25) \n    healthCount=healthCount+1;\n// End Deficiency\n// Conversion \n  const queryC = 'SELECT count(*), CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+')) FROM usersession WHERE useraction.application in ('+appsList+') and useraction.matchingConversionGoals in ('+milestoneList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultC = await rumUserSessionsClient.getUsqlResultAsTable({query: queryC, startTimestamp: startTime, endTimestamp: endTime});\n    if (resultC[\"values\"][0][1]/resultC[\"values\"][0][0]<.4) \n    healthCount=healthCount+2;\n  else if (resultC[\"values\"][0][1]/resultC[\"values\"][0][0]<.6) \n    healthCount=healthCount+1;\n// End Conversion\n// Start Apdex\n  const queryA = 'SELECT CONDITION (count(*),WHERE userexperiencescore=\"SATISFIED\"), CONDITION (count(*),WHERE userexperiencescore=\"TOLERATED\"), CONDITION (count(*),WHERE userexperiencescore=\"FRUSTRATED\") FROM usersession WHERE useraction.application in ('+appsList+') and starttime>='+startTime+' and endtime<='+endTime;\n  const resultA = await rumUserSessionsClient.getUsqlResultAsTable({query: queryA, startTimestamp: startTime, endTimestamp: endTime});\n  if (((resultA[\"values\"][0][0] + (resultA[\"values\"][0][1]/2))/(resultA[\"values\"][0][0] + resultA[\"values\"][0][1] + resultA[\"values\"][0][2]))*100<80)\n    healthCount=healthCount+2;\n  if (((resultA[\"values\"][0][0] + (resultA[\"values\"][0][1]/2))/(resultA[\"values\"][0][0] + resultA[\"values\"][0][1] + resultA[\"values\"][0][2]))*100<92)\n    healthCount=healthCount+1;\n// End Apdex\n  if (healthCount>1)\n    return \"🔴\";\n  if (healthCount>0)\n    return \"🟡\";\n  return \"🟢\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true,"alignment":"center"},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"81":{"type":"code","title":"Efficiency Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\n  export default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startShiftTime+' and endtime<='+endShiftTime+'), CONDITION (count(*),WHERE usersession.userexperiencescore=\"SATISFIED\" and useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][1]/result[\"values\"][0][0])*100-(result[\"values\"][0][3]/result[\"values\"][0][2])*100).toFixed(2);\n  if ((result[\"values\"][0][1]/result[\"values\"][0][0])>(result[\"values\"][0][3]/result[\"values\"][0][2])) \n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% ↗️🟢)\";\n  else if ((result[\"values\"][0][1]/result[\"values\"][0][0])<(result[\"values\"][0][3]/result[\"values\"][0][2]))\n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1*(-1)+\"% ↘️🔴)\";\n  else\n  return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"82":{"type":"code","title":"Deficiency Rate","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  const query = 'SELECT CONDITION (count(*),WHERE not useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE usersession.userexperiencescore!=\"SATISFIED\" and not useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (count(*),WHERE not useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startShiftTime+' and endtime<='+endShiftTime+'), CONDITION (count(*),WHERE usersession.userexperiencescore!=\"SATISFIED\" and not useraction.matchingconversiongoals in ('+conversionList+') and starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  var str1 = ((result[\"values\"][0][1]/result[\"values\"][0][0])*100-(result[\"values\"][0][3]/result[\"values\"][0][2])*100).toFixed(2);\n  if ((result[\"values\"][0][1]/result[\"values\"][0][0])>(result[\"values\"][0][3]/result[\"values\"][0][2])) \n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% ↗️🔴)\";\n  else if ((result[\"values\"][0][1]/result[\"values\"][0][0])<(result[\"values\"][0][3]/result[\"values\"][0][2]))\n   return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1*(-1)+\"% ↘️🟢)\";\n  else\n  return (result[\"values\"][0][1]/result[\"values\"][0][0]*100).toFixed(2)+\"% (\"+str1+\"% =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":true},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}},"83":{"type":"code","title":"Avg Clicks To Convert","input":"import { rumUserSessionsClient } from '@dynatrace-sdk/client-classic-environment-v1';\nexport default async function () {\n  const startTime = Date.parse($dt_timeframe_from).toString();  // Get Dashboard Start Time\n  const endTime = Date.parse($dt_timeframe_to).toString();      // Get Dashboard End Time\n  const startShiftTime = startTime-(86400000*$TimeShift);       // Get TimeShift variable, convert to days and create startShift\n  const endShiftTime = endTime-(86400000*$TimeShift);           // Get TimeShift variable, convert to days and create endShift\n  var conversionList = \"\\\"\"+$ConversionGoal[0]+\"\\\"\";\n  let c = 1;\n  // Build Conversion Goal List\n  while (c < 10) {\n    if ($ConversionGoal[c]==null) break;\n    conversionList = conversionList+\",\\\"\"+$ConversionGoal[c]+\"\\\"\";\n    c++;\n  }\n  var milestoneList = \"\\\"\"+$MilestoneGoal[0]+\"\\\"\";\n  let m = 1;\n  // Build Milestone Goal List\n  while (m < 10) {\n    if ($MilestoneGoal[m]==null) break;\n    milestoneList = milestoneList+\",\\\"\"+$MilestoneGoal[m]+\"\\\"\";\n    m++;\n  }\n  var appsList = \"\\\"\"+$AppName[0]+\"\\\"\";\n  let i = 1;\n  // Build Apps List\n  while (i < 10) {\n    if ($AppName[i]==null) break;\n    appsList = appsList+\",\\\"\"+$AppName[i]+\"\\\"\";\n    i++;\n  }\n  const query = 'SELECT CONDITION (avg(userActionCount),WHERE starttime>='+startTime+' and endtime<='+endTime+'), CONDITION (avg(userActionCount),WHERE starttime>='+startShiftTime+' and endtime<='+endShiftTime+') FROM usersession WHERE useraction.application in ('+appsList+') and useraction.matchingConversionGoals in ('+milestoneList+') and useraction.matchingConversionGoals in ('+conversionList+')';\n  const result = await rumUserSessionsClient.getUsqlResultAsTable({query: query, startTimestamp: startShiftTime, endTimestamp: endTime});\n  if (result[\"values\"][0][0]>result[\"values\"][0][1])\n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(result[\"values\"][0][1].toFixed(2))+\" ↗️🔴)\";\n  else if (result[\"values\"][0][0]<result[\"values\"][0][1])\n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(result[\"values\"][0][1].toFixed(2))+\" ↘️🟢)\";\n  else\n   return (result[\"values\"][0][0]).toFixed(2)+\" (\"+(result[\"values\"][0][1].toFixed(2))+\" =🟡)\";\n}","visualization":"singleValue","visualizationSettings":{"thresholds":[],"chartSettings":{"gapPolicy":"connect"},"singleValue":{"showLabel":false,"label":"","autoscale":false},"table":{"enableLineWrap":true,"hiddenColumns":[],"lineWrapIds":[]}}}},"layouts":{"5":{"x":0,"y":3,"w":24,"h":1},"8":{"x":0,"y":0,"w":24,"h":1},"9":{"x":0,"y":1,"w":10,"h":2},"18":{"x":20,"y":1,"w":2,"h":2},"23":{"x":22,"y":1,"w":2,"h":2},"27":{"x":16,"y":1,"w":2,"h":2},"29":{"x":18,"y":1,"w":2,"h":2},"32":{"x":0,"y":8,"w":24,"h":1},"36":{"x":0,"y":16,"w":22,"h":1},"43":{"x":8,"y":4,"w":4,"h":2},"44":{"x":8,"y":6,"w":4,"h":2},"45":{"x":16,"y":4,"w":4,"h":2},"54":{"x":0,"y":9,"w":24,"h":7},"56":{"x":20,"y":6,"w":4,"h":2},"61":{"x":0,"y":6,"w":4,"h":2},"71":{"x":0,"y":4,"w":4,"h":2},"74":{"x":12,"y":1,"w":2,"h":2},"75":{"x":14,"y":1,"w":2,"h":2},"76":{"x":22,"y":16,"w":2,"h":1},"77":{"x":20,"y":4,"w":4,"h":2},"78":{"x":4,"y":4,"w":4,"h":2},"79":{"x":4,"y":6,"w":4,"h":2},"80":{"x":10,"y":1,"w":2,"h":2},"81":{"x":12,"y":4,"w":4,"h":2},"82":{"x":12,"y":6,"w":4,"h":2},"83":{"x":16,"y":6,"w":4,"h":2}}}